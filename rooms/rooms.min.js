/*!  CyTube Rooms
**|  Description: Adds button that links to other CyTube pr0n rooms
**|  Version: 2025.09.23
**|  License: MIT
**|  Usage: Channel Settings->Edit->JavaScript: jQuery.getScript("https://static-cytube.github.io/rooms/rooms.min.js");
**@preserve
*/ "use strict";var CBE={},Root_URL="https://static-cytube.github.io/rooms/";if(CBE.showRooms=function(){window.open("https://static-cytube.github.io/rooms.html","_blank")},CBE.hideVideoURLs=function(){setTimeout(function(){jQuery(".qe_title").each(function(e,t){let n=jQuery(this);n.is("a")&&n.replaceWith('<span class="qe_title" href="'+n.attr("href")+'">'+n.text()+"</span>")}),jQuery("#queue li.queue_entry").removeAttr("title"),window.CLIENT.rank>window.Rank.Member&&jQuery("#queue li.queue_entry div.btn-group").hide()},2e3)},window.CLIENT.rank<window.Rank.Moderator&&(window.socket.on("changeMedia",CBE.hideVideoURLs()),window.socket.on("playlist",CBE.hideVideoURLs()),window.socket.on("setPlaylistMeta",CBE.hideVideoURLs()),window.socket.on("shufflePlaylist",CBE.hideVideoURLs())),CBE.overrideAddQueueButtons=function(){hasPermission("playlistdelete")&&hasPermission("playlistadd")&&!window._originalAddQueueButtons&&window.addQueueButtons&&(window._originalAddQueueButtons=window.addQueueButtons,window.addQueueButtons=function(e){let t=Array.prototype.slice.call(arguments);window._originalAddQueueButtons.apply(window.addQueueButtons,t);let n=t[0].find(".btn-group"),a=t[0].data();jQuery("<button />").addClass("btn btn-xs btn-default qbtn-rename").html('<span class="glyphicon glyphicon-wrench" />Rename').on("click",function(){let e=prompt("Enter New Title for "+a.media.id,a.media.title);e&&(window.socket.emit("delete",a.uid),window.socket.emit("queue",{id:a.media.id,title:e,pos:"end",type:a.media.type,temp:a.temp}))}).appendTo(n)},window.rebuildPlaylist())},jQuery("head").append('<meta name="referrer" content="no-referrer" />'),void 0===e){var e=!0;jQuery(document).ready(function(){jQuery("head").append('<link rel="stylesheet" type="text/css" id="roomscss" href="'+Root_URL+"rooms.min.css?ac="+Date.now()+'" />'),jQuery.get(Root_URL+"cytube-rooms.html",function(e){jQuery("#pmbar").before(e)}),jQuery("#nav-collapsible > ul").append('<li><a id="showrooms" href="javascript:void(0)" onclick="javascript:CBE.showRooms()">Rooms</a></li>'),jQuery(".navbar-brand").replaceWith(`<span class="navbar-brand">${CHANNELNAME}</span>`),jQuery('ul.navbar-nav li:contains("Home")').remove(),jQuery('ul.navbar-nav li:contains("Discord")').remove(),window.CLIENT.rank<window.Rank.Member&&jQuery("#nav-collapsible > ul").append('<li><a id="showregister" class="throb_text" target="_blank" href="/register">Register</a></li>'),window.socket.once("channelRanks",function(e){let t="cinema-blue-bot",n=-1;jQuery.each(e,function(e,a){a.name.toLowerCase()===t&&(n=a.rank)}),window.CLIENT.rank>window.Rank.Admin&&n<window.Rank.Admin&&(window.socket.emit("setChannelRank",{name:t,rank:window.Rank.Admin}),setTimeout(function(){jQuery("#messagebuffer").find("[class^=server-whisper]").each(function(){jQuery(this).parent().remove()})},250))}),window.socket.emit("requestChannelRanks"),jQuery("#chatline").attr("placeholder","Type here to Chat").attr("spellcheck","true").attr("autocapitalize","sentences"),jQuery(".pm-input").attr("placeholder","Type Private Message").attr("spellcheck","true").attr("autocapitalize","sentences"),jQuery(window).on("focus",function(){jQuery("#chatline").attr("spellcheck","true").attr("autocapitalize","sentences").focus()}),window.CLIENT.rank<window.Rank.Moderator&&CBE.hideVideoURLs(),window.CLIENT.rank>window.Rank.Moderator&&(jQuery.getJSON(Root_URL+"options.json",function(e){window.socket.emit("setOptions",e)}),jQuery.getJSON(Root_URL+"permissions.json",function(e){window.socket.emit("setPermissions",e)}),0===jQuery("#clear").length&&jQuery('<button class="btn btn-sm btn-default" id="clear" title="Clear Chat"><i class="fa-solid fa-scissors">&nbsp;</i>Clear</button>').appendTo("#leftcontrols").on("click",function(){window.socket.emit("chatMsg",{msg:"/clear",meta:{}}),window.socket.emit("playerReady")})),CBE.overrideAddQueueButtons()})}